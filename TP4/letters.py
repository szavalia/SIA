import numpy as np
import random
import math

alphabet = {
	
	'A': [	[-1,-1,+1,-1,-1],
			[-1,+1,-1,+1,-1],
			[+1,+1,+1,+1,+1],
			[+1,-1,-1,-1,+1],
			[+1,-1,-1,-1,+1]],

	'B': [	[+1,+1,+1,+1,-1],
			[+1,-1,-1,-1,+1],
			[+1,+1,+1,+1,-1],
			[+1,-1,-1,-1,+1],
			[+1,+1,+1,+1,+1]],

	'C': [	[+1,+1,+1,+1,+1],
			[+1,-1,-1,-1,-1],
			[+1,-1,-1,-1,-1],
			[+1,-1,-1,-1,-1],
			[+1,+1,+1,+1,+1]],

	'D':[	[+1,+1,+1,+1,-1],
			[+1,-1,-1,-1,+1],
			[+1,-1,-1,-1,+1],
			[+1,-1,-1,-1,+1],
			[+1,+1,+1,+1,-1]],

	'E': [	[+1,+1,+1,+1,+1],
			[+1,-1,-1,-1,-1],
			[+1,+1,+1,+1,+1],
			[+1,-1,-1,-1,-1],
			[+1,+1,+1,+1,+1]],

	'F': [	[+1,+1,+1,+1,+1],
			[+1,-1,-1,-1,-1],
			[+1,+1,+1,+1,+1],
			[+1,-1,-1,-1,-1],
			[+1,-1,-1,-1,-1]],

	'G': [	[+1,+1,+1,+1,+1],
			[+1,-1,-1,-1,-1],
			[+1,-1,+1,+1,+1],
			[+1,-1,-1,-1,+1],
			[+1,+1,+1,+1,+1]],

	'H': [	[+1,-1,-1,-1,+1],
			[+1,-1,-1,-1,+1],
			[+1,+1,+1,+1,+1],
			[+1,-1,-1,-1,+1],
			[+1,-1,-1,-1,+1]],

	'I': [	[+1,+1,+1,+1,+1], 
			[-1,-1,+1,-1,-1],
			[-1,-1,+1,-1,-1],
			[-1,-1,+1,-1,-1],
			[+1,+1,+1,+1,+1]],

	'J': [	[+1,+1,+1,+1,+1],
			[-1,-1,-1,+1,-1],
			[-1,-1,-1,+1,-1],
			[+1,-1,-1,+1,-1],
			[+1,+1,+1,-1,-1]],

	'K': [	[+1,-1,-1,+1,-1],
			[+1,-1,+1,-1,-1],
			[+1,+1,-1,-1,-1],
			[+1,-1,+1,-1,-1],
			[+1,-1,-1,+1,-1]],

	'L': [	[+1,-1,-1,-1,-1],
			[+1,-1,-1,-1,-1],
			[+1,-1,-1,-1,-1],
			[+1,-1,-1,-1,-1],
			[+1,+1,+1,+1,+1]],

	'M': [	[+1,-1,-1,-1,+1],
			[+1,+1,-1,+1,+1],
			[+1,-1,+1,-1,+1],
			[+1,-1,-1,-1,+1],
			[+1,-1,-1,-1,+1]],

	'N': [	[+1,-1,-1,-1,+1],
			[+1,+1,-1,-1,+1],
			[+1,-1,+1,-1,+1],
			[+1,-1,-1,+1,+1],
			[+1,-1,-1,-1,+1]],

	'O': [	[+1,+1,+1,+1,+1],
			[+1,-1,-1,-1,+1],
			[+1,-1,-1,-1,+1],
			[+1,-1,-1,-1,+1],
			[+1,+1,+1,+1,+1]],

	'P': [	[+1,+1,+1,+1,+1],
			[+1,-1,-1,-1,+1],
			[+1,+1,+1,+1,+1],
			[+1,-1,-1,-1,-1],
			[+1,-1,-1,-1,-1]],

	'Q': [	[+1,+1,+1,+1,+1],
			[+1,-1,-1,-1,+1],
			[+1,-1,+1,-1,+1],
			[+1,-1,-1,+1,+1],
			[+1,+1,+1,+1,+1]],

	'R': [	[+1,+1,+1,+1,-1],
			[+1,-1,-1,-1,+1],
			[+1,+1,+1,+1,-1],
			[+1,-1,+1,-1,-1],
			[+1,-1,-1,+1,-1]],

	'S': [	[+1,+1,+1,+1,+1],
			[+1,-1,-1,-1,-1],
			[-1,+1,+1,+1,-1],
			[-1,-1,-1,-1,+1],
			[+1,+1,+1,+1,+1]],

	'T': [	[+1,+1,+1,+1,+1],
			[-1,-1,+1,-1,-1],
			[-1,-1,+1,-1,-1],
			[-1,-1,+1,-1,-1],
			[-1,-1,+1,-1,-1]],

	'U': [	[+1,-1,-1,-1,+1],
			[+1,-1,-1,-1,+1],
			[+1,-1,-1,-1,+1],
			[+1,-1,-1,-1,+1],
			[-1,+1,+1,+1,-1]],

	'V': [	[+1,-1,-1,-1,+1],
			[+1,-1,-1,-1,+1],
			[-1,+1,-1,+1,-1],
			[-1,+1,-1,+1,-1],
			[-1,-1,+1,-1,-1]],

	'W': [	[+1,-1,-1,-1,+1],
			[+1,-1,-1,-1,+1],
			[+1,-1,+1,-1,+1],
			[+1,+1,-1,+1,+1],
			[+1,-1,-1,-1,+1]],

	'X': [	[+1,-1,-1,-1,+1],
			[-1,+1,-1,+1,-1],
			[-1,-1,+1,-1,-1],
			[-1,+1,-1,+1,-1],
			[+1,-1,-1,-1,+1]],

	'Y': [	[+1,-1,-1,-1,+1],
			[-1,+1,-1,+1,-1],
			[-1,-1,+1,-1,-1],
			[-1,-1,+1,-1,-1],
			[-1,-1,+1,-1,-1]],
			
	'Z':[	[+1,+1,+1,+1,+1],
			[-1,-1,-1,+1,-1],
			[-1,-1,+1,-1,-1],
			[-1,+1,-1,-1,-1],
			[+1,+1,+1,+1,+1]]
}

def get_patterns(letters):
    patterns = []
    for letter in letters:
        patterns.append([])
        for vec in alphabet.get(letter):
            patterns[-1].extend(vec)
    return patterns

def get_noise_patterns(patterns, noise_prob):
    noise_patterns = []
    for pattern in patterns:
        noise_patterns.append([])
        for value in pattern:
            p = random.random()
            if(p >= noise_prob):
                noise_patterns[-1].append(value)
            else:
                noise_patterns[-1].append(math.copysign(1,value) * -1)
    return noise_patterns
